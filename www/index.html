<!DOCTYPE HTML>

<html>

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Your Website</title>

<style>
body {
	font-family: 'Montserrat', sans-serif;
	color: white;
}
.bg_prim {
	background: url('the-sopranos-523679859129a') center center fixed;
	background-size: cover;
	background-repeat:no-repeat;
}
#brand {
	text-align: center;
	width: 80%;
	margin-top: 40%;
	margin-left: 10%;
	font-size:40px;
	font-weight: bold;
}
#bajada {
	width: 80%;
	margin-left: 10%;
	text-align: center;
	text-shadow: 1px 0px black;
}
#login {
	width: 50%;
	margin-top: 20%;
	margin-left: 25%;
}
.flat {
	display: inline-block;
padding: 15px 0px;
width: 245px;
color: #FFF;
font-size: 16px;
text-transform: uppercase;
letter-spacing: 1px;
text-align: center;
border: 1px solid #FFF;
-webkit-border-radius: 3px; 
}
</style>
<script type="text/javascript">
  WebFontConfig = {
    google: { families: [ 'Montserrat::latin' ] }
  };
  (function() {
    var wf = document.createElement('script');
    wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
      '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
  })(); </script>
</head>

<body class="bg_prim">

	<header>
		
	</header>
	
	<section>
	<div id="brand">SERIESMARKER</div>
	<div id="bajada">Keep track of your favorite series</div>	
    <div id="login"><img ="login_img" width="100%" src="sign-in-button.png" /></div>
	<div id="login_div"></div>
	<div id="precargador" class="bg2" style="width:0px;height:0px;"></div>
	</section>
	<footer>
		
	</footer>
        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="js/jquery-1.10.1.min.js"></script>
        <script src="js/jquery-ui-1.10.4.js"></script>
        <script type="text/javascript" src="js/index.js"></script>
<script>
function get_background(){
	var base_url = "http://d3gtl9l2a4fn1j.cloudfront.net/t/p/";
	var tamanio = "w780" // or w500 
	var query = "2";
	$.post('test2.php',{ buscar: query }, function(data) {
		var maximo = Number(data["results"].length);
		for (var i=0; i<data["results"].length; i++) { 
			rule1 = ".bg"+i+" { background: url('"+base_url+tamanio+data["results"][i].poster_path+"') center center fixed; ";
			rule2 ="background-size: cover;";
			rule3 ="background-repeat:no-repeat; transition: background 0.5s ease-in;}";
				$("style").append(rule1);
				$("style").append(rule2);
				$("style").append(rule3);
		}
		//clase random para precargador
		var number = 1 + Math.floor(Math.random() * maximo);
		var claserandom = "bg" + number;
		$("#precargador").removeClass("bg2");
		$("#precargador").addClass(claserandom);
		//llamamos a la funcion que cambia el fondo cada 3s
		setInterval(function(){cambiar_fondo(maximo)}, 5000);
		
		function cambiar_fondo(maximo) {
			var maximo2 = maximo;
			//sacamos al body la clase que tiene y le ponemos la del precargador
			$("body").switchClass($("body").attr('class'),$('#precargador').attr('class'),"easeOutBounce");
			//$("body").removeClass($("body").attr('class'));
			//$("body").addClass($('#precargador').attr('class')); 
			//clase nueva para el precargador
			var clase_nueva = $('#precargador').attr('class');
			$("#precargador").removeClass(clase_nueva);
			var numero_clase = clase_nueva.substring(2);
			numero_clase = Number(numero_clase);
			if (numero_clase == maximo2) {
				$("#precargador").addClass("bg1"); 
			}
			else {
				$("#precargador").addClass("bg" + (numero_clase + 1)); 	
			}
		}
		
	},"json");
});
</script>
</body>

</html>
